{% extends 'SkreenHouseFactoryV3Bundle::layout.html.twig' %}

{% block title %}{{ 'page.title.tvgrid'|trans }}{% endblock %}
{% block description %}{{ 'page.description.tvgrid'|trans }}{% endblock %}
{% block meta %}<meta name="robots" content="noindex,nofollow" />{% endblock %}

{% block content %}
<div id="view-tvgrid" class="container">
	<div id="grid">
	<h1>Programme TV <small><time>{{ data.timestamp|localizeddate('full') }}</time></small></h1>
	<ul class="nav nav-pills">
	  <li class="control left">
	    <a href="#">‹</a>
		</li>
	  <li class="control right">
	    <a href="#">›</a>
		</li>
	  <li class="dropdown">
	    <a class="dropdown-toggle"
	       data-toggle="dropdown"
	       href="#">
	        Filtrer
	        <b class="caret"></b>
	      </a>
	    <ul class="dropdown-menu">
				<li><a href=""><span class="label">Films</span></a></li>
				<li><a href=""><span class="label">Documetaires</span></a></li>
				<li><a href=""><span class="label">Emissions</span></a></li>
				<li><a href=""><span class="label">Sports</span></a></li>
				<li><a href=""><span class="label">Séries</span></a></li>
				<li><a href=""><span class="label">Spectacles</span></a></li>
	    </ul>
	  </li>
	</ul>
	<ul id="channels" class="nav nav-list">
		{% for k,c in data.channels %}
			<li data-id="{{ c.id }}">{{ c.name }}</li>
		{% endfor %}
	</ul>
  <div id="schedule" data-api="schedule/epg">
		{% for i in 1..100 %}
			{% if loop.index == 50 %}
      <div class="schedule" data-page="{{ loop.index }}" data-timestamp="{{ data.timestamp }}">{% include 'SkreenHouseFactoryV3Bundle:Timeline:_grid-schedule.html.twig' with {data: data } %}</div>
			{% else %}
      <div class="schedule {% if loop.index < 50 %}schedule-prev{% else %}schedule-next{% endif %}" data-page="{{ loop.index }}"></div>
			{% endif %}
		{% endfor %}
  </div>
  </div>
</div>
{% endblock %}

{% block pagescripts %}
{% javascripts
    '@SkreenHouseFactoryV3Bundle/Resources/public/jqx/jqxcore.js'
    '@SkreenHouseFactoryV3Bundle/Resources/public/jqx/jqxscrollview.js'
    '@SkreenHouseFactoryV3Bundle/Resources/public/jquery-ui/js/jquery-ui-1.10.0.custom.min.js'
    '@SkreenHouseFactoryV3Bundle/Resources/public/js/scripts/tvgrid.js'
    
    filter='?yui_js' 
    output='js/compiled/tvgrid.js'  %}
    <script src="{{ asset_url }}"></script>
{% endjavascripts %}
{% endblock %}