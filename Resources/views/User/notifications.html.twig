{% extends 'SkreenHouseFactoryV3Bundle::layout.html.twig' %}

{% block title %}{{ 'page.title.user.notifs'|trans }}{% endblock %}

{% block pagescripts %}
  {% javascripts
    '@SkreenHouseFactoryV3Bundle/Resources/public/js/scripts/user-notifs.js'
    filter='?yui_js' 
    output='js/compiled/pages/user-notifs.js'  %}
    <script src="{{ asset_url }}"></script>
  {% endjavascripts %}
{% endblock %}

{% block content %}
  <div id="bandeau-listes">
    <div class="container">
      <h1 class="clearfix">Mes notifications<a class="pull-right" href="{{ path('user_programs') }}"><span class="sk-font">-></span> Paramétrer ma chaîne</a></h1>
    </div>
  </div>
  <div class="container">
    <div id="view-user-notifications" class="notifications">
        <span class="notification-filter clearfix">
          <a class="label label-info filter" data-filter="all">Tout</a>
          <a class="label filter" data-filter="tv">TV</a>
          <a class="label filter" data-filter="replay">Replay</a>
          <a class="label filter" data-filter="vod">VOD</a>
          <a class="label filter" data-filter="theaters">Cinéma</a>
          <a class="label filter" data-filter="chaîne">Chaînes</a>
          <a class="label filter" data-filter="friends">Amis</a>
          <span rel="tooltip" class="remove-all-notifs pull-right" data-trigger-click=".notifications .remove" data-container="body" data-placement="bottom" title="Supprimer toutes les notifications de la liste">
            <span class="glyphicon glyphicon-trash"></span>
          </span>
        </span>
        <p class="empty {{ notifications|to_array|length == 0 ? '' : 'hide-first ' }}bs-callout bs-callout-info">Vous n'avez actuellement aucune notification correspondant à votre chaîne. N'hésitez pas à les compléter !</p>
        <table class="table table-striped">
          <tbody>
            {% for n in notifications %}
                {% include 'SkreenHouseFactoryV3Bundle:User:_notif.html.twig' with {notif: n } %}
            {% endfor %}
          </tbody>
        </table>
    </div>
  </div>
{% endblock %}