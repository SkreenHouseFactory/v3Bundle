{% if p is not defined %}
{% set p = {title:'%title%',
            id:'%id%',
            picture:'',
            onglet:'%onglet%',
            seo_url:'',
            has_vod:'%has_vod%',
            best_offer:'',
            deporte:''} %}
{% endif %}
<li class="tv-component actions {{ p.onglet }}{% if p.id == '%id%' %} slider-sample{% endif %}{% if p.deporte %} deporte{% endif %}{% if 'missing' in p.picture %} missing-picture{% endif %}" data-id="{% if p.episodeof.id is defined %}{{ p.episodeof.id }}{% else %}{{ p.id }}{% endif %}" data-play-program-id="{{ p.id }}" style="{% if p.picture %}background-image:url({{ p.picture }}){% endif %}"{% if p.alpha is defined %} data-alpha="{{ p.alpha }}"{% endif %}>
  {% if header is defined %}{{ header|raw }}{% endif %}
  {% if p.best_offer is defined and p.best_offer.channel_img is defined %}
    <div class="channel">
      <img src="{{ p.best_offer.channel_img }}" alt="{{ p.best_offer.channel_name }}">
      <span class="diff">{{ p.best_offer.broadcastdate|replace(' à', ' à') }}</span>
    </div>
  {% else %}
    <div class="channel">
      {%- if p.popular_channel is defined -%}
      <img src="{{ p.popular_channel.img }}" alt="{{ p.popular_channel.name }}" />
      {%- endif -%}
      <span class="diff">
      {#%- if p.deporte == true %}<i class="icon-th icon-white"></i> {{ 'action.play.deporte'|trans }}#}
      {%- if p.has_vod == 4 %}{{ 'action.play.cine'|trans }}
      {%- elseif p.has_vod == 3 %}{{ 'action.play.dvd'|trans }}
      {%- elseif p.has_vod == 5 %}{{ 'action.play.tv'|trans }}
      {%- elseif p.has_vod == 6 %}{{ 'action.play.rec'|trans }}
      {%- elseif p.has_vod in [7,8,9,10] %}{{ 'action.play.replay'|trans }}
      {%- elseif p.has_vod != '%has_vod%' %}{{ 'action.play.streaming'|trans }}{% endif -%}
      </span>
    </div>
  {% endif %}
  <a {% if p.seo_url %}href="{{ p.seo_url }}"{% endif %} target="_top" class="title"><i class="icon-th icon-white"></i> {{ p.title }}</a>
</li>